<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record model="ir.ui.view" id="gamedesk_game_achievement_tree">
        <field name="name">Gamedesk games achievement tree view</field>
        <field name="model">gamedesk.game_achievement</field>
        <field name="arch" type="xml">
            <tree string="Games list" create='true' edit='true'>
                <field name="name"/>
                <field name="score"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="gamedesk_game_achievement_kanban">
        <field name="name">Gamedesk game achievement kanban view</field>
        <field name="model">gamedesk.game_achievement</field>
        <field name="arch" type="xml">
            <kanban default_order="name">
                <field name="id"/>
                <field name="name"/>
                <field name="image"/>
		        <field name="score"/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click">
                            <div class="oe_kanban_details m-2">
                                <div class="row">
                                    <div class="col-md-3 d-flex justify-content-center">
                                        <div class="o_kanban_image" style="width: auto">
                                            <img alt="Preview" t-att-src="kanban_image('gamedesk.game_achievement','image',record.id.raw_value)"/>
                                        </div>
                                    </div>
                                    <div class="col-md-9">
                                        <div style="font-weight: bold; font-size: 1.1em;">
                                            <field name="name"/>
                                        </div>
                                        +<field name="score"/>XP
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>


    <record model="ir.ui.view" id="gamedesk_game_achievement_form">
        <field name="name">Gamedesk games achievement form view</field>
        <field name="model">gamedesk.game_achievement</field>
        <field name="arch" type="xml">
            <form string="Game achievement" create="true" edit="true">
                <style>
                    .gamedesk-achievement-img img { max-height: 150px; max-width: 150px; }
                    .o_field_widget.o_field_pdf_viewer .o_pdfview_iframe {
                        width: 100% !important;
                        min-height: 150px;
                        height: auto;
                        border: 0;
                        margin-top: 10px;
                    }
                </style>
                <sheet>
                    <group>
                        <group string="Characteristics">
                            <field name="name"/>
                            <field name="score"/>XP
                            <field name="description"/>
                        </group>
                        <div class="oe_row">
                            <field name="image" class="gamedesk-achievement-img" widget="image"/>
                        </div>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="gamedesk_game_achievement_actions" model="ir.actions.act_window">
        <field name="name">Gamedesk game achievement action</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">gamedesk.game_achievement</field>
        <field name="view_id" ref="gamedesk_game_achievement_kanban"/>
        <field name="view_ids" eval="[(5, 0, 0),
                                        (0, 0, {'view_mode': 'kanban', 'view_id': ref('gamedesk_game_achievement_kanban')}),
                                        (0, 0, {'view_mode': 'tree', 'view_id': ref('gamedesk_game_achievement_tree')}),
                                        (0, 0, {'view_mode': 'form', 'view_id': ref('gamedesk_game_achievement_form')})]"/>
    </record>
</odoo>
